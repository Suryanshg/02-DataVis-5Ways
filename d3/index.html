<script src="https://d3js.org/d3.v6.min.js"></script>
<div id="scatter"></div>
<script>
  //console.log(d3); // test if d3 is loaded
  var width = 600, height = 600 // x-padding is 50 and y-padding is 10
  var svg = d3.select("#scatter")
    .append("svg")
    .attr("width",width)
    .attr("height",height)
    
 
  d3.csv("cars-sample.csv",function(data){
      console.log(data.MPG)
      var xScale = d3.scaleLinear().domain([1500,5000]).range([0,500]);
      var yScale = d3.scaleLinear().domain([8,50]).range([500,0]);
      var xAxis = d3.axisBottom().scale(xScale).ticks(4)
      var yAxis = d3.axisLeft().scale(yScale).ticks(4)


      svg.append("g")
      .attr("transform","translate(50,510)")
      .call(xAxis)
      svg.append("g")
      .attr("transform","translate(50,10)")
      .call(yAxis)

      svg
      //.selectAll('circle')
      //.data(data)
      //.enter()
      .append('circle')
      .attr('cx',function(d){
          return 50 + xScale(data.Weight)
        })
        .attr('cy',function(d){
            return yScale(data.MPG) 
        })
        .attr('r',function(d){
            return 2.5 * (data.Weight/1000)


        })
        .attr('fill',function(d){
            if(data.Manufacturer == "bmw"){
                return "orange"
            }
            else if(data.Manufacturer == "ford"){
                return "green"
            }
            else if(data.Manufacturer == "honda"){
                return "lightblue"
            }
            else if(data.Manufacturer == "mercedes"){
                return "darkblue"
            }
            else if(data.Manufacturer == "toyota"){
                return "purple"
            }
        })
        .attr('opacity',0.5)
        .on('mouseover',function(){
            d3.select(this).attr('opacity',1)
        }).on('mouseout',function(){
            d3.select(this).attr('opacity',0.5)
        })
        
        svg.append("text")
        .attr("transform",
        "translate(" + (width/2)+","+
                (550 - 10) + ")")
        .style("text-anchor","middle")
        .text("Weight")

        svg.append("text")
        .attr("y",225)
        .attr("x",25)
        .style("text-anchor","middle")
        .text("MPG")
        .attr("transform","rotate(-90,25,225)")

    })

</script>

<!-- if(data.Weight>=1000 && data.Weight<2000){
    return 5
}
else if(data.Weight>=2000 && data.Weight<3000){
    return 7.5
}
else if(data.Weight>=3000 && data.Weight<4000){
    return 10
}
else if(data.Weight>=4000 && data.Weight<5000){
    return 12.5
} -->
